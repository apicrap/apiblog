<!DOCTYPE html>
<html lang="et">

<head>
    <title>Apiblog - Kärjetänava lood</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="devKarin">
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://apicrap.github.io/apiblog/rss.xml"
        title="Kärjetänava lood">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <header>
        <a id="homepage-link" href="#">Kodu</a>
        <a id="rss-feed-link" href="https://apicrap.github.io/apiblog/rss.xml">RSS</a>
        <div id="mode-switch-wrapper"><button id="mode-switch" onclick="darkMode()">&#127769;</button></div>
        <div class="scroll-progress-container">
            <div id="progress-bar" class="scroll-progress-bar">&#128029;</div>

        </div>
        <div id="flower">&#127802;</div>

    </header>
    <main id="blog-main">
        <h1 id="blog-heading">Kärjetänava lood &#128029;
        </h1>
        <div class="blog-description">
            <p>Blogi algajalt mesinikult algajale mesinikule.</p>
            <p>See ajaveeb sündis minu mesindusõpingute käigus. Algajana oli mul palju küsimusi, millele vastust otsisin
                ja arvan, et olles mõned vastused nüüd leidnud, teen teiste algajate elu oma teadmiste ja kogemuste
                jagamisega mitu sammu lihtsamaks.</p>
            <p>Head sirvimist!</p>
        </div>
        <div id="blog-content" class="content">
            <div id="sidebar">
                <h3>Sisukord</h3>
                <ol>
                    <li class="" value="5"><a href="#5">Viies</a></li>
                    <li class="" value="4"><a href="#4">Neljas</a></li>
                    <li class="" value="3"><a href="#3">Kolmas</a></li>
                    <li class="" value="2"><a href="#2">Teine</a></li>
                    <li class="" value="1"><a href="#1">Esimene</a></li>
                </ol>
            </div>
            <div id="posts">
                <article id="1">
                    <time datetime="2023-05-04"></time>
                    <h2 id="post-heading-1">Esimene päätükk</h2>
                    <p>Esimese peatüki sisu</p><br>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam incidunt laudantium voluptatem nemo
                        eum vitae, maiores ipsa nostrum dolorem doloremque. Velit voluptatibus veniam debitis.
                        Perferendis soluta exercitationem atque quo praesentium dolor, neque, provident officiis
                        voluptatibus quisquam, ullam eos laudantium quis hic nostrum ratione accusantium consequatur
                        saepe dicta eveniet dolore. Fugit expedita, nobis itaque animi rerum voluptas nam atque.
                        Delectus quam reiciendis tempore? Doloribus explicabo odit ipsam, rerum ut perspiciatis at
                        ratione tenetur harum quis voluptate quisquam repellendus eligendi, cumque corporis ipsa
                        incidunt minus. Vitae laboriosam qui assumenda incidunt! Optio unde sapiente tempore dolore non
                        deserunt quos, officiis perferendis ratione alias dicta nihil ducimus quae placeat totam.
                        Corporis error sit sint voluptates quis tempora aperiam neque ipsum totam, ratione architecto
                        vitae quia ullam quae repellendus officiis natus id praesentium nemo necessitatibus itaque odit?
                        Magnam repellat architecto voluptatibus nisi eos, natus saepe quas dolores cupiditate, maiores
                        ratione voluptatum, tempora perferendis libero odit ad a numquam dolorem. Atque fugiat tenetur
                        debitis explicabo odio non fugit nostrum iste repellat facilis? Atque, assumenda explicabo. Iure
                        vero numquam minus, adipisci assumenda vitae amet officiis porro harum sequi doloribus quasi
                        maxime explicabo praesentium nesciunt quam voluptas velit. Mollitia vitae quaerat maxime, error
                        aperiam voluptate dolorum laboriosam vero rem ad, impedit ipsa, adipisci reprehenderit vel?
                        Dolor ducimus ipsa aperiam sequi ea similique aliquam eos quaerat, soluta, aliquid laudantium
                        dolorum dolore vitae necessitatibus ipsum labore eveniet debitis blanditiis excepturi explicabo
                        optio neque? Ducimus, est qui ullam repellat cumque rem! Optio, hic. Repellendus quis ipsam ea
                        totam adipisci. Mollitia deleniti harum perspiciatis libero accusantium, neque vitae repudiandae
                        laborum possimus sequi nobis magni reiciendis. Placeat rem odio beatae ad optio sequi incidunt
                        quaerat necessitatibus eius inventore? Illum, harum facere saepe eveniet eos libero ad officiis,
                        iste ea quaerat dolorem corrupti molestias minus nostrum ab laudantium! Adipisci et aliquam a
                        similique nam inventore eos dolore esse quidem eaque dolorem, illum vitae, laudantium pariatur
                        eveniet vel error maxime unde accusantium totam enim velit. Vero voluptatem aspernatur harum,
                        nam recusandae, dolor laboriosam error suscipit eum tempore quod velit. Deserunt ipsum
                        blanditiis delectus ullam minima porro vero amet, nulla similique magnam, eligendi autem. Dolor
                        officia exercitationem libero minus, consequuntur aut illum quidem repudiandae eum ut modi
                        voluptatum possimus dolores, ipsa molestias minima inventore vitae tempora, nesciunt
                        reprehenderit quibusdam adipisci qui obcaecati! Sapiente expedita velit quibusdam. Sint,
                        accusantium dolorum. Et distinctio doloremque aliquid odio, eius saepe eos, repellendus id
                        voluptatum, optio facere quidem iste maiores? Beatae corrupti quos enim sint eius ipsum deleniti
                        tempore molestias mollitia illo itaque perspiciatis nihil neque, aperiam consectetur totam
                        recusandae, pariatur impedit ipsam magnam porro cupiditate debitis nulla voluptatibus.
                        Accusantium saepe ex fuga iste deserunt! Ipsum veniam nihil debitis quam cum amet vitae ratione
                        sit maiores magni. Soluta obcaecati amet dolorem ad. Necessitatibus pariatur quis, incidunt
                        facilis molestiae a iusto ad hic explicabo praesentium consectetur fugiat aliquid autem
                        perspiciatis fuga consequatur mollitia dolorum. Itaque, tempora ipsa ipsam repellendus
                        voluptatem non repudiandae officia quis vel magnam amet saepe iure libero tenetur quasi dolores,
                        incidunt doloribus illum porro repellat temporibus, sunt quas eum!</p>
                    <h4>Viited</h4>
                    <ul>
                        <li id="b1r1">[1] Mingi autor. <em>Mingi pealkiri (2023).</em> <a href="#">Mingi link</a>
                            [Külastatud 04.05.2023].</li>
                    </ul>
                </article>
            </div>
        </div>


    </main>
    <footer>
        <button id="showSidebar" title="Näita sisukorda" onclick="showSidebar()">SISUKORD</button>
        <p id="copyright">2023 Apicrap</p>
        <button id="go-to-top" title="Tagasi üles" onclick="goBackToTop()">ÜLES</button>
    </footer>
    <script>
        const main = document.querySelector("main");
        const sidebar = document.getElementById("sidebar");
        const initialSidebarHeight = window.getComputedStyle(sidebar).height;
        const backToTopButton = document.getElementById("go-to-top");


        window.addEventListener("load", addScrollListener, false);
        window.removeEventListener("unload", addScrollListener);

        window.addEventListener("DOMContentLoaded", () => {
            const observer = new IntersectionObserver(listElements => {
                listElements.forEach(element => {
                    const id = element.target.getAttribute("id");
                    if (element.intersectionRatio > 0) {
                        document.querySelector(`a[href="#${id}"]`).parentElement.classList.add("active");
                    } else {
                        document.querySelector(`a[href="#${id}"]`).parentElement.classList.remove("active");
                    }
                });
            });

            document.querySelectorAll("article[id]").forEach((article) => {
                observer.observe(article);
            });
        });

        function addScrollListener() {
            window.addEventListener("scroll", () => showScrollProgress(), true);
            return window.removeEventListener("scroll", showScrollProgress);
        }

        function showBackToTopButton() {
            backToTopButton.style.display = "block";
        }

        function hideBackToTopButton() {
            backToTopButton.style.display = "none";
        }

        function showScrollProgress() {
            let windowToScroll = main.scrollTop;
            let scrolledHeight = main.scrollHeight - main.clientHeight;
            let scrolledPercent = (windowToScroll / scrolledHeight) * 100;
            const sidebarHeight = sidebar

            if (scrolledPercent > 1) {
                showBackToTopButton();
            } else {
                hideBackToTopButton();
            }

            if (scrolledPercent > 3) {
                adjustSidebarHeightAndPosition();
            } else {
                resetSidebarHeightAndPosition()
            }

            document.getElementById("progress-bar").style.width = scrolledPercent + "%";
        }

        function darkMode() {
            document.body.classList.toggle("dark-mode");
            let currentMode = document.getElementById("mode-switch");
            currentMode.classList.toggle("dark-mode");
            if (currentMode.className == "dark-mode") {
                document.getElementById("mode-switch").innerHTML = "&#127774;";
            } else {
                document.getElementById("mode-switch").innerHTML = "&#127769;";
            }
        }

        function goBackToTop() {
            main.scrollTop = 0;
        }

        function showSidebar() {
            sidebar.classList.toggle("visible");
        }

        function adjustSidebarHeightAndPosition() {
            sidebar.style.top = "19vh";
            sidebar.style.height = "calc(100vh - 40px - 10vh - 10vh - 3rem)";
        }

        function resetSidebarHeightAndPosition() {
            sidebar.style.top = "20rem";
            sidebar.style.height = initialSidebarHeight;
        }
    </script>
</body>

</html>